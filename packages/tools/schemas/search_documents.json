{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://penny.ai/schemas/tools/search_documents",
  "title": "Search Documents Parameters",
  "description": "Parameters for searching across documents and content sources",
  "type": "object",
  "properties": {
    "query": {
      "type": "string",
      "minLength": 1,
      "description": "Search query string",
      "examples": ["quarterly financial results", "product roadmap 2024"]
    },
    "sources": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["documents", "knowledge_base", "web", "emails", "chats"]
      },
      "default": ["documents"],
      "uniqueItems": true,
      "description": "Content sources to search"
    },
    "filters": {
      "type": "object",
      "properties": {
        "fileTypes": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9]+$"
          },
          "uniqueItems": true,
          "description": "Filter by file extensions"
        },
        "dateRange": {
          "type": "object",
          "properties": {
            "start": {
              "type": "string",
              "format": "date-time"
            },
            "end": {
              "type": "string",
              "format": "date-time"
            }
          },
          "required": ["start", "end"],
          "additionalProperties": false,
          "description": "Filter by creation date range"
        },
        "authors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true,
          "description": "Filter by document authors"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true,
          "description": "Filter by document tags"
        },
        "size": {
          "type": "object",
          "properties": {
            "min": {
              "type": "number",
              "minimum": 0
            },
            "max": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "description": "Filter by file size in bytes"
        },
        "language": {
          "type": "string",
          "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
          "description": "Filter by document language (ISO 639-1 code)"
        }
      },
      "additionalProperties": false,
      "description": "Additional filters to apply to search"
    },
    "searchType": {
      "type": "string",
      "enum": ["semantic", "keyword", "hybrid"],
      "default": "hybrid",
      "description": "Type of search algorithm to use"
    },
    "limit": {
      "type": "number",
      "minimum": 1,
      "maximum": 100,
      "default": 20,
      "description": "Maximum number of results to return"
    },
    "offset": {
      "type": "number",
      "minimum": 0,
      "default": 0,
      "description": "Number of results to skip (pagination)"
    },
    "includeSnippets": {
      "type": "boolean",
      "default": true,
      "description": "Include content snippets in results"
    },
    "highlightMatches": {
      "type": "boolean",
      "default": true,
      "description": "Highlight matching terms in results"
    },
    "similarityThreshold": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "default": 0.7,
      "description": "Minimum similarity score for semantic search"
    },
    "sortBy": {
      "type": "string",
      "enum": ["relevance", "date", "title", "author", "size"],
      "default": "relevance",
      "description": "Field to sort results by"
    },
    "sortOrder": {
      "type": "string",
      "enum": ["asc", "desc"],
      "default": "desc",
      "description": "Sort order (ascending or descending)"
    }
  },
  "required": ["query"],
  "additionalProperties": false,
  "examples": [
    {
      "query": "quarterly financial results",
      "sources": ["documents"],
      "limit": 10
    },
    {
      "query": "machine learning algorithms",
      "sources": ["documents", "knowledge_base"],
      "filters": {
        "fileTypes": ["pdf", "docx"],
        "dateRange": {
          "start": "2024-01-01T00:00:00Z",
          "end": "2024-08-31T23:59:59Z"
        },
        "tags": ["research", "ai"]
      },
      "searchType": "semantic",
      "includeSnippets": true,
      "highlightMatches": true
    }
  ]
}